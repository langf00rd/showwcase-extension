(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5452)}])},5452:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return L}});var a=t(5893),r=t(7294),o=t(3854),l=t(7106),n=t(6653),c=t(3750),i=t(6893),d=t(8193),m=t(9583);function h(e){let s=new Date(e);return s.toLocaleDateString("en-US",{month:"short",day:"numeric"})}var x=t(1664),p=t.n(x),u=t(6154),g=t(6501),f=t(4529);let w=["✨ Recommended shows","Trending shows","My bookmarks"],j=(0,f.Ue)(e=>({bookmarks:[],setBookmarks:s=>e(()=>({bookmarks:s})),apiKey:"",setAPIKey:s=>e(()=>({apiKey:s})),showAccountMenu:!1,setShowAccountMenu:s=>e(()=>({showAccountMenu:s})),showAPIKeyInputModal:!1,setShowAPIKeyInputModal:s=>e(()=>({showAPIKeyInputModal:s})),trendingShows:[],setTrendingShows:s=>e(()=>({trendingShows:s})),recommendedShows:[],setRecommendedShows:s=>e(()=>({recommendedShows:s})),activeTab:w[0],setActiveTab:s=>e(()=>({activeTab:s}))}));function b(e){let{title:s,dateTime:t,readTime:l,image:n,summary:x,views:f,link:b,totalUpvotes:v,totalComments:k,id:N}=e,[S,A]=(0,r.useState)(!1),[C,I]=(0,r.useState)(!1),[T,E]=(0,r.useState)(!1),L=j(e=>e.activeTab),P=j(e=>e.bookmarks),K=j(e=>e.setBookmarks),M=j(e=>e.apiKey),_=j(e=>e.setShowAPIKeyInputModal),z=async()=>{M&&await u.Z.request({url:"https://cache.showwcase.com/bookmarks",method:"GET",headers:{Accept:"*/*","x-api-key":M}}).then(e=>{K(e.data.filter(e=>"string"==typeof e.slug))}).catch(function(e){console.error(e)})},D=e=>{if(!M){_(!0);return}A(!1);let s=g.Am.loading("saving...");u.Z.request({method:"POST",url:"https://cache.showwcase.com/bookmarks",headers:{"x-api-key":M},data:{projectId:e}}).then(function(e){console.log(e.data),g.Am.dismiss(s),g.Am.success("saved to bookmarks"),z(),console.log("bookamarks",P)}).catch(function(e){console.error(e),g.Am.dismiss(s),g.Am.error("something went wrong")})},q=e=>{if(!M){_(!0),console.log("no api key");return}let s=g.Am.loading("removing...");u.Z.request({method:"DELETE",url:"https://cache.showwcase.com/bookmarks",headers:{Authorization:M},data:{projectId:e}}).then(function(e){console.log(e.data),g.Am.dismiss(s),g.Am.success("removed to bookmarks"),z()}).catch(function(e){console.error(e),g.Am.dismiss(s),g.Am.error("something went wrong")})},U=()=>(0,a.jsxs)("ul",{className:"flex items-center justify-between text-gray-500 w-full max-w-[150px]",children:[(0,a.jsxs)("li",{className:"flex text-sm items-center gap-1",children:[(0,a.jsx)(d.M_L,{}),(0,a.jsx)("p",{children:v})]}),(0,a.jsxs)("li",{className:"flex text-sm items-center gap-1",children:[(0,a.jsx)(m.DCG,{}),(0,a.jsx)("p",{children:k})]}),(0,a.jsxs)("li",{className:"flex text-sm items-center gap-1",children:[(0,a.jsx)(d.w8I,{}),(0,a.jsx)("p",{children:f>=1e6?(f/1e6).toFixed(1)+"M":f>=1e3?(f/1e3).toFixed(1)+"K":f})]})]});return(0,a.jsxs)("li",{className:"relative",children:[(0,a.jsx)(()=>C?(0,a.jsxs)("div",{className:"bg-[#101827e8] w-screen h-screen overflow-y-scroll fixed left-0 top-0 z-20 flex flex-col items-center justify-center",children:[(0,a.jsx)(i.q5L,{onClick:()=>I(!1),className:"cursor-pointer hover:text-brand transition-all my-10",size:50}),(0,a.jsxs)("div",{className:"post-info-modal p-10 rounded-xl rounded-b-none h-full overflow-scroll w-full max-w-3xl border border-gray-700 bg-gray-800",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:s}),(0,a.jsxs)("div",{className:"flex items-center gap-5",children:[(0,a.jsxs)("p",{className:"text-gray-500 flex items-center gap-3",children:[h(t)," • ",l]}),(0,a.jsx)(U,{})]}),n?(0,a.jsx)("img",{loading:"lazy",src:n,className:"w-full my-5 rounded-xl bg-gray-700",alt:"blog post image of "+s}):(0,a.jsx)("div",{className:"w-full my-5 rounded-xl bg-gray-700 h-[300px]"}),(0,a.jsxs)("div",{className:"my-5 gap-5 flex items-center justify-end",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-400 cursor-pointer hover:text-brand transition-all",children:[(0,a.jsx)(c.M3k,{}),(0,a.jsx)("p",{className:"whitespace-nowrap flex gap-3",onClick:()=>{P.some(e=>e.id===N)?console.log("already saved"):D(N)},children:P.some(e=>e.id===N)?"Bookmarked":"Add to bookmarks"})]}),(0,a.jsx)(p(),{passHref:!0,href:b,target:"_blank",rel:"noreferrer",children:(0,a.jsxs)("button",{className:y.button,children:[(0,a.jsx)("p",{children:"Read on Showwcase"}),(0,a.jsx)(o.Hi9,{})]})})]}),x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:y.label,children:"Summary"}),(0,a.jsx)("p",{className:"text-gray-300",children:x})]})]})]}):(0,a.jsx)(a.Fragment,{}),{}),S&&(0,a.jsx)("div",{className:"border border-gray-800 p-5 rounded-xl absolute bg-gray-900 right-5 z-10 top-[50px]",children:(0,a.jsx)("ul",{className:"text-gray-400 flex flex-col gap-3",children:(0,a.jsxs)("li",{className:y.iconLink,children:[(0,a.jsx)(c.M3k,{}),(0,a.jsx)("p",{className:"whitespace-nowrap flex gap-3",onClick:()=>{P.some(e=>e.id===N)?console.log("already saved"):D(N)},children:P.some(e=>e.id===N)?"Bookmarked":"Add to bookmarks"})]})})}),(0,a.jsxs)("div",{className:"bg-gray-900  max-w-[350px] p-5 select-none rounded-xl relative border border-gray-800 hover:border-gray-600 cursor-pointer transition-all flex flex-col justify-between",children:[(0,a.jsxs)("div",{className:"mb-3 flex flex-col gap-3",children:[(0,a.jsx)("h3",{className:"font-medium w-[200px] text-[20px] max-lines-2",children:s}),(0,a.jsxs)("p",{className:"text-sm text-gray-400 flex items-center gap-3",children:[h(t)," • ",l]}),L===w[2]?(0,a.jsx)(o.Bhs,{onClick:()=>q(N),className:"hover:bg-gray-800 py-1 rounded-md absolute right-3 transition-all cursor-pointer",size:28}):S?(0,a.jsx)(i.q5L,{onClick:()=>A(!S),className:"hover:bg-gray-800 py-1 rounded-md absolute right-3 transition-all cursor-pointer",size:25}):(0,a.jsx)(i.$Pu,{onClick:()=>A(!S),className:"hover:bg-gray-800 py-1 rounded-md absolute right-3 transition-all cursor-pointer",size:25})]}),n?(0,a.jsx)("img",{onClick:()=>I(!0),loading:"lazy",src:n,className:"w-full h-[170px] object-cover rounded-xl bg-gray-800",alt:"blog post image of "+s}):(0,a.jsx)("div",{onClick:()=>I(!0),className:"w-full h-[170px] object-cover rounded-xl bg-gray-800"}),(0,a.jsx)("div",{className:"m-3"}),(0,a.jsx)(U,{})]})]})}let y={label:"text-gray-500 font-bold mb-1",iconLink:"flex items-center whitespace-nowrap gap-1 transition-all hover:text-brand cursor-pointer",button:"w-max py-2 px-3 rounded-xl cursor-pointer flex items-center gap-2 bg-white transition-all hover:opacity-80 select-none text-gray-800"};function v(e){let{shows:s,loading:t}=e;return t?(0,a.jsx)("p",{children:"Loading..."}):(console.log(s),(0,a.jsx)("ul",{className:"grid  place-content-center md:grid-cols-2 lg:grid-cols-3 gap-5",children:s.map((e,s)=>(0,a.jsx)(b,{id:e.id,title:e.title,views:e.views,totalUpvotes:e.totalUpvotes,totalComments:e.totalComments,link:"https://www.showwcase.com/show/".concat(e.id,"/").concat(e.slug),summary:e.projectSummary,dateTime:e.publishedDate||e.createdAt,readTime:e.readingStats.text,image:e.coverImage},s))}))}function k(e){let{shows:s,loading:t}=e;return t?(0,a.jsx)("p",{children:"Loading..."}):(0,a.jsx)("ul",{className:"grid  place-content-center md:grid-cols-2 lg:grid-cols-3 gap-5",children:s.map((e,s)=>(0,a.jsx)(b,{id:e.id,title:e.title,views:e.views,totalUpvotes:e.totalUpvotes,totalComments:e.totalComments,link:"https://www.showwcase.com/show/".concat(e.id,"/").concat(e.slug),summary:e.projectSummary,dateTime:e.publishedDate||e.createdAt,readTime:e.readingStats.text,image:e.coverImage},s))})}function N(e){let{show:s,onHide:t,onSaveKey:o}=e,l=j(e=>e.apiKey),n=j(e=>e.setAPIKey);return((0,r.useEffect)(()=>{n(localStorage.getItem("shcapk")||"")},[]),s)?(0,a.jsx)("div",{className:"bg-[#101827e8] w-screen h-screen overflow-y-scroll fixed left-0 top-0 z-20 flex flex-col p-2 items-center justify-center",children:(0,a.jsxs)("div",{className:"post-info-modal p-10 rounded-xl  w-full max-w-xl border border-gray-700 bg-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-white font-bold text-xl",children:"Enter your API key"}),(0,a.jsx)(i.q5L,{className:"hover:text-brand transition-all cursor-pointer",size:25,onClick:t})]}),(0,a.jsx)("p",{className:"mt-3 mb-2",children:"We take your security seriously. That's why we don't store your API keys anywhere in our system. Rest assured that your keys are safe with you."}),(0,a.jsx)("input",{value:l,onChange:e=>n(e.target.value),className:"text-white bg-transparent border border-gray-600 w-full p-3 px-4 outline-none my-3 rounded-md",placeholder:"e0e25c5d28..."}),(0,a.jsx)("a",{className:"underline mb-5 block",href:"https://beta.showwcase.com/settings/api-keys",target:"_blank",rel:"noreferrer",children:"Get your API key here"}),(0,a.jsx)("button",{className:S.button,onClick:()=>o(l),children:(0,a.jsx)("p",{children:"Done"})})]})}):(0,a.jsx)(a.Fragment,{})}let S={label:"text-gray-500 font-bold mb-1",iconLink:"flex items-center whitespace-nowrap gap-1 transition-all hover:text-brand cursor-pointer",button:"w-max py-2 px-3 rounded-xl cursor-pointer flex items-center gap-2 bg-brand transition-all hover:opacity-80 select-none text-white"};function A(e){let{shows:s,loading:t}=e,r=j(e=>e.showAPIKeyInputModal),o=j(e=>e.setShowAPIKeyInputModal);return t?(0,a.jsx)("p",{children:"Loading..."}):localStorage.getItem("shcapk")?s.length<1?(0,a.jsx)("div",{className:"text-gray-400",children:(0,a.jsx)("p",{children:"You have no bookmarks"})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("ul",{className:"grid place-content-center md:grid-cols-2 lg:grid-cols-3 gap-5",children:s.map((e,s)=>(0,a.jsx)(b,{id:e.id,title:e.title,views:e.views,totalUpvotes:e.totalUpvotes,totalComments:e.totalComments,link:"https://www.showwcase.com/show/".concat(e.id,"/").concat(e.slug),summary:e.projectSummary,dateTime:e.publishedDate||e.createdAt,readTime:e.readingStats.text,image:e.coverImage},s))})}):(0,a.jsxs)("div",{className:"text-gray-400",children:[(0,a.jsx)(N,{show:r,onSaveKey:e=>{if(!e){alert("Enter a valid API key");return}localStorage.setItem("shcapk",e),alert("Saved \uD83C\uDF89"),window.location.reload()},onHide:()=>o(!1)}),(0,a.jsxs)("p",{children:["Set your Showwcase API key to fetch your bookmarks. ",(0,a.jsx)("span",{onClick:()=>o(!0),className:"text-brand underline cursor-pointer hover:no-underline",children:"Click here"})]})]})}var C=t(5675),I=t.n(C);let T="w-max py-2 px-3 rounded-xl cursor-pointer transition-all hover:opacity-80 select-none",E={tab:"".concat(T," bg-gray-900 text-gray-500"),activeTab:"".concat(T," bg-brand"),label:"text-gray-500 font-bold",iconLink:"flex items-center whitespace-nowrap gap-1 transition-all hover:text-brand cursor-pointer"};var L=()=>{let e=j(e=>e.activeTab),s=j(e=>e.setActiveTab),t=j(e=>e.trendingShows),c=j(e=>e.setTrendingShows),d=j(e=>e.recommendedShows),m=j(e=>e.setRecommendedShows),h=j(e=>e.bookmarks),x=j(e=>e.setBookmarks),[g,f]=(0,r.useState)(!0),b=j(e=>e.showAPIKeyInputModal),y=j(e=>e.setShowAPIKeyInputModal),S=j(e=>e.showAccountMenu),C=j(e=>e.setShowAccountMenu),T=j(e=>e.apiKey),L=j(e=>e.setAPIKey),[P,K]=(0,r.useState)(!1),M=(0,r.useRef)(null);(0,r.useEffect)(()=>{L(localStorage.getItem("shcapk")||"")},[]),(0,r.useEffect)(()=>{let e=e=>{P&&M.current&&!M.current.contains(e.target)&&K(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[P]);let _=()=>{f(!0),u.Z.request({method:"GET",url:"https://cache.showwcase.com/projects/trending",params:{limit:"1000"}}).then(function(e){let s=e.data.filter(e=>{var s;return""!==e.title&&(null===(s=e.readingStats)||void 0===s?void 0:s.words)>100});c(s),f(!1)}).catch(function(e){console.error(e),f(!1)})},z=()=>{f(!0),u.Z.request({method:"GET",url:"https://cache.showwcase.com/projects/recommended",params:{limit:"1000"}}).then(function(e){let s=e.data.filter(e=>{var s;return""!==e.title&&(null===(s=e.readingStats)||void 0===s?void 0:s.words)>100});m(s),f(!1)}).catch(function(e){console.error(e),f(!1)})},D=async()=>{T&&(f(!0),await u.Z.request({url:"https://cache.showwcase.com/bookmarks",method:"GET",headers:{Accept:"*/*","x-api-key":T}}).then(e=>{let s=e.data.filter(e=>"string"==typeof e.slug);x(s),console.log("bookmarkedShows",s),f(!1)}).catch(function(e){console.error(e),f(!1)}))};return(0,r.useEffect)(()=>{e===w[0]&&(z(),D()),e===w[1]&&(_(),D()),e===w[2]&&D()},[]),(0,r.useEffect)(()=>{e===w[0]&&d.length<1&&(z(),D()),e===w[1]&&t.length<1&&(_(),D()),e===w[2]&&h.length<1&&D()},[e]),(0,a.jsxs)("main",{className:"text-[16px] h-screen w-screen overflow-hidden",children:[(0,a.jsx)(N,{show:b,onSaveKey:e=>{if(!e){alert("Enter a valid API key");return}localStorage.setItem("shcapk",e),alert("Saved \uD83C\uDF89"),window.location.reload()},onHide:()=>y(!1)}),(0,a.jsxs)("header",{className:"border-b border-b-borderColor p-5 flex justify-between items-center w-full",children:[(0,a.jsx)(i.cur,{onClick:()=>K(!P),size:24,className:"mx-2 lg:hidden block"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(I(),{width:20,height:20,alt:"logo",src:"/next-assets/logo.svg"}),(0,a.jsx)("h1",{className:"font-bold",children:"Showwcase Extension"})]}),(0,a.jsxs)("div",{className:"cursor-pointer hover:text-brand transition-all",children:[T?(0,a.jsx)("p",{onClick:()=>C(!S),children:"Settings"}):(0,a.jsx)("p",{onClick:()=>y(!0),children:"Sign in"}),S&&(0,a.jsx)("div",{className:"border border-gray-800 p-5 rounded-xl absolute bg-gray-900 right-5 z-10 top-[50px]",children:(0,a.jsxs)("ul",{className:"text-gray-400 flex flex-col gap-3",children:[(0,a.jsxs)("li",{className:E.iconLink,onClick:()=>{localStorage.clear(),window.location.reload()},children:[(0,a.jsx)(i.xqh,{}),(0,a.jsx)("p",{children:"Sign out"})]}),(0,a.jsxs)("li",{className:E.iconLink,onClick:()=>{C(!1),y(!0)},children:[(0,a.jsx)(n.Lju,{}),(0,a.jsx)("p",{children:"Edit your API key"})]})]})})]})]}),(0,a.jsxs)("div",{className:"w-screen h-screen flex",children:[(0,a.jsxs)("div",{className:"flex-[1] hidden lg:block p-5 border-r border-r-borderColor",children:[(0,a.jsx)("label",{className:E.label,children:"Create"}),(0,a.jsxs)("div",{className:"text-gray-500 flex flex-col gap-3 mt-5",children:[(0,a.jsx)(p(),{passHref:!0,href:"https://draftyapp.vercel.app",children:(0,a.jsxs)("div",{className:E.iconLink,children:[(0,a.jsx)(o.LsQ,{}),(0,a.jsx)("p",{className:"flex gap-3 items-center",children:"Write a show"})]})}),(0,a.jsx)(p(),{passHref:!0,href:"https://draftyapp.vercel.app",children:(0,a.jsxs)("div",{className:E.iconLink,children:[(0,a.jsx)(l.UQ4,{}),(0,a.jsx)("p",{className:"flex gap-3 items-center",children:"Create a thread"})]})})]})]}),P&&(0,a.jsxs)("div",{ref:M,style:{background:"linear-gradient(172deg, #00020a, #15003a)",height:"calc(100vh - 70px)"},className:" z-20 w-[50%] absolute flex-[1] p-5 border-r border-r-borderColor",children:[(0,a.jsx)("label",{className:E.label,children:"Create"}),(0,a.jsxs)("div",{className:"text-gray-500 flex flex-col gap-3 mt-5",children:[(0,a.jsx)(p(),{passHref:!0,href:"https://draftyapp.vercel.app",children:(0,a.jsxs)("div",{className:E.iconLink,children:[(0,a.jsx)(o.LsQ,{}),(0,a.jsx)("p",{className:"flex gap-3 items-center",children:"Write a show"})]})}),(0,a.jsx)(p(),{passHref:!0,href:"https://draftyapp.vercel.app",children:(0,a.jsxs)("div",{className:E.iconLink,children:[(0,a.jsx)(l.UQ4,{}),(0,a.jsx)("p",{className:"flex gap-3 items-center",children:"Create a thread"})]})})]})]}),(0,a.jsxs)("div",{className:"flex-[5] p-5 lg:px-32 md:px-20 overflow-y-scroll pb-32",children:[(0,a.jsx)("ul",{className:"flex gap-4 items-center justify-center flex-wrap md:justify-start my-8",children:w.map((t,r)=>(0,a.jsx)("li",{onClick:()=>s(t),className:e===t?E.activeTab:E.tab,children:(0,a.jsx)("p",{children:t})},r))}),e===w[0]&&(0,a.jsx)(k,{shows:d,loading:g}),e===w[1]&&(0,a.jsx)(v,{shows:t,loading:g}),e===w[2]&&(0,a.jsx)(A,{shows:h,loading:g})]})]})]})}}},function(e){e.O(0,[907,556,445,13,617,92,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);